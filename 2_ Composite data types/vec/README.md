# Урок: Вектора (Vec) в Rust

## Описание

Полное руководство по работе с векторами (`Vec<T>`) в Rust - основной динамической коллекцией языка.

## Что покрывает этот урок

### 1. Создание векторов
- `Vec::new()` - создание пустого вектора
- `vec![]` - макрос для инициализации
- `Vec::with_capacity()` - с предварительным резервированием

### 2. Добавление и удаление элементов
- `push()`, `pop()` - работа с концом вектора
- `insert()`, `remove()` - работа с произвольными позициями
- `clear()` - очистка вектора
- `append()`, `extend()` - добавление нескольких элементов
- `swap_remove()` - быстрое удаление без сохранения порядка

### 3. Доступ к элементам
- Индексация `vec[i]`
- Безопасный доступ через `get()`
- `first()`, `last()` - первый и последний элементы

### 4. Итерирование
- Перебор по ссылке `&vec`
- Перебор с потреблением
- Изменяющий перебор `iter_mut()`
- `enumerate()` - с индексами
- `rev()` - обратный порядок

### 5. Срезы (Slices)
- Создание срезов `&vec[start..end]`
- Изменяемые срезы

### 6. Capacity и производительность
- Разница между `len()` и `capacity()`
- Управление памятью: `reserve()`, `shrink_to_fit()`
- Оптимизация производительности

### 7. Методы поиска и проверки
- `contains()`, `is_empty()`
- `position()`, `find()`
- `all()`, `any()`

### 8. Сортировка и модификация
- `sort()`, `sort_by()` - сортировка
- `reverse()` - разворот
- `dedup()` - удаление дубликатов
- `swap()` - обмен элементов

### 9. Разделение и объединение
- `split_off()` - разделение на части
- `append()` - слияние векторов

### 10. Преобразования
- Vec ↔ Array
- `map()`, `filter()`, `collect()`
- Работа с итераторами

### 11. Работа с функциями
- Передача векторов по ссылке
- Возврат векторов из функций
- Изменение векторов в функциях

### 12. Продвинутые техники
- `repeat()`, `collect()` - генерация последовательностей
- `filter()`, `retain()` - фильтрация
- `partition()` - разделение по условию
- `flatten()` - объединение вложенных векторов
- Агрегация: `sum()`, `product()`, `min()`, `max()`
- `chunks()`, `windows()` - группировка данных

### 13. Vec vs Array
- Сравнение динамических и статических коллекций
- Когда что использовать

### 14. Многомерные вектора
- Создание и работа с матрицами
- Вложенные вектора

## Запуск

```bash
cargo run
```

или с оптимизацией:

```bash
cargo run --release
```

## Ключевые особенности Vec

- **Динамический размер** - можно добавлять и удалять элементы
- **Данные на куче** - не ограничены размером стека
- **Автоматическое управление памятью** - реаллокация при необходимости
- **Владение данными** - Vec владеет своими элементами
- **Непрерывное размещение** - cache-friendly структура
- **O(1)** для push/pop, **O(n)** для insert/remove

## Когда использовать Vec

✅ Используйте Vec, когда:
- Размер данных неизвестен заранее
- Нужно добавлять/удалять элементы динамически
- Работаете с данными переменного размера
- Размер может изменяться в runtime
- Нужны богатые методы для работы с коллекцией

❌ Используйте Array, когда:
- Размер фиксирован и известен
- Не нужно изменять размер
- Критична производительность
- Данные помещаются на стек

## Полезные ссылки

- [Официальная документация Vec](https://doc.rust-lang.org/std/vec/struct.Vec.html)
- [Rust Book: Vectors](https://doc.rust-lang.org/book/ch08-01-vectors.html)