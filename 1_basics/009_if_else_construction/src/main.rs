fn main() {
    println!("=== Урок 009: Конструкции if-else в Rust ===\n");

    // ============================================
    // 1. БАЗОВАЯ КОНСТРУКЦИЯ IF-ELSE
    // ============================================
    println!("1. Базовая конструкция if-else:");
    let a = 10;
    
    // В Rust условие ОБЯЗАТЕЛЬНО должно быть типа bool
    // Скобки вокруг условия не обязательны (в отличие от C/C++)
    // Фигурные скобки {} обязательны даже для одной строки
    if a > 5 {
        println!("   a ({}) больше 5", a);
    } else {
        println!("   a ({}) меньше или равно 5", a);
    }

    // ============================================
    // 2. КОНСТРУКЦИЯ ELSE IF
    // ============================================
    println!("\n2. Конструкция else if (множественные условия):");
    let number = 5;
    
    if number > 6 {
        println!("   number больше 6");
    } else if number < 6 {
        println!("   number меньше 6");
    } else {
        println!("   number равна 6");
    }

    // ============================================
    // 3. IF КАК ВЫРАЖЕНИЕ (let-if)
    // ============================================
    println!("\n3. If как выражение (возврат значения):");
    
    // Конструкция if в Rust - это ВЫРАЖЕНИЕ, а не инструкция
    // Она может возвращать значение!
    let condition = true;
    let number = if condition { 4 } else { 5 };
    println!("   number = {} (condition = {})", number, condition);

    // ВАЖНО: оба блока должны возвращать значения одного типа!
    // let x = if true { 5 } else { "hello" }; // ОШИБКА! Разные типы

    // ============================================
    // 4. БОЛЕЕ СЛОЖНЫЙ ПРИМЕР С ОПЕРАЦИЯМИ
    // ============================================
    println!("\n4. Использование if для выбора операции:");
    let a = 5;
    let b = 2;
    let operation = 2; // 1 - сложение, 2 - вычитание, иначе - умножение

    let result = if operation == 1 {
        a + b  // последнее выражение без точки с запятой - возвращаемое значение
    } else if operation == 2 {
        a - b
    } else {
        a * b
    };
    println!("   Результат операции {} с числами {} и {}: {}", operation, a, b, result);

    // ============================================
    // 5. ЛОГИЧЕСКИЕ ОПЕРАТОРЫ
    // ============================================
    println!("\n5. Логические операторы в условиях:");
    let age = 25;
    let has_license = true;

    // && - логическое И (AND)
    if age >= 18 && has_license {
        println!("   ✓ Можно водить машину");
    } else {
        println!("   ✗ Нельзя водить машину");
    }

    // || - логическое ИЛИ (OR)
    let is_weekend = true;
    let is_holiday = false;
    
    if is_weekend || is_holiday {
        println!("   ✓ Можно отдыхать!");
    }

    // ! - логическое НЕ (NOT)
    let is_raining = false;
    if !is_raining {
        println!("   ✓ Можно идти гулять");
    }

    // ============================================
    // 6. ВЛОЖЕННЫЕ УСЛОВИЯ
    // ============================================
    println!("\n6. Вложенные if-else:");
    let temperature = 22;
    let is_sunny = true;

    if temperature > 20 {
        if is_sunny {
            println!("   Отличная погода для пикника!");
        } else {
            println!("   Тепло, но пасмурно");
        }
    } else {
        println!("   Прохладно, возьмите куртку");
    }

    // ============================================
    // 7. СРАВНЕНИЕ С ДИАПАЗОНАМИ
    // ============================================
    println!("\n7. Работа с диапазонами значений:");
    let score = 85;

    let grade = if score >= 90 {
        "Отлично"
    } else if score >= 80 {
        "Хорошо"
    } else if score >= 70 {
        "Удовлетворительно"
    } else if score >= 60 {
        "Посредственно"
    } else {
        "Неудовлетворительно"
    };
    println!("   Баллы: {}, Оценка: {}", score, grade);

    // ============================================
    // 8. УСЛОВИЕ ДОЛЖНО БЫТЬ BOOL
    // ============================================
    println!("\n8. Важная особенность Rust:");
    let number = 3;
    
    // В Rust это НЕ работает (в отличие от C/JavaScript):
    // if number { ... } // ОШИБКА!
    
    // Нужно явно сравнивать:
    if number != 0 {
        println!("   number ({}) не равно нулю", number);
    }

    // ============================================
    // 9. КОМБИНИРОВАНИЕ УСЛОВИЙ
    // ============================================
    println!("\n9. Сложные комбинации условий:");
    let x = 10;
    let y = 20;
    let z = 15;

    if (x < y && y > z) || z == 15 {
        println!("   Условие выполнено: (x < y && y > z) || z == 15");
        println!("   x={}, y={}, z={}", x, y, z);
    }

    // ============================================
    // 10. ПРАКТИЧЕСКИЙ ПРИМЕР: ОПРЕДЕЛЕНИЕ ТИПА ЧИСЛА
    // ============================================
    println!("\n10. Практический пример - анализ числа:");
    let num = 42;

    let description = if num == 0 {
        "ноль"
    } else if num > 0 {
        if num % 2 == 0 {
            "положительное чётное число"
        } else {
            "положительное нечётное число"
        }
    } else {
        if num % 2 == 0 {
            "отрицательное чётное число"
        } else {
            "отрицательное нечётное число"
        }
    };
    
    println!("   {} - это {}", num, description);

    println!("\n=== Конец урока 009 ===");
}
